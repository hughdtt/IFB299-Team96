{% load static %}
<!DOCTYPE html>
<html> 
    <head> 
        <style>
            tr:nth-child(even) {
                background-color: #c5cddb;
            }
            td, th {
                border :#c5cddb;
            }
            .table {
           
            }
            
            /*
            .container {
   
                justify-content: center;
                align-items: center;
            }
            */
            

            #title {
                letter-spacing: 10px;
            }

            #querytext {
                font-size: 30px; 
                align: center;            
            }
            #cardtext.cardtext {
                padding-left:10px;
            }
        </style>

        <title>Search Page</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="{% static '/reservation/css/bootstrap.css' %}" rel="stylesheet">
        
            
    </head>
    <body class="bg-light">

        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
            <div class="container">
                <a class="navbar-brand" href="#">Search</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Profile</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/account/login">Login</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/account/register">Register</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
            <p><br/></p>

                <form method='GET' action=''>
                    <div class="pt-5 text-center rounded" id="querytext">                   
                        <input class="text-center rounded border border-dark" type='text' name='query' placeholder="Search for vehicles" value='{{ request.GET.query }}'/>
                    </div>
                      
                    <div class="container"> 
                                                      
                    <div class="form-inline py-3 b border-bottom border-white ">                       
                            <select id="pickupStoreName" class="form-control col-lg-3 col-md-4">                              
                                <option value="" disabled selected>Store Name...</option>
                                {% for car in carstore %}
                                <option>{{ car.store_name }}</option>
                                {% endfor %}
                            </select>

                            <select id="carMake" name='dropdownMake' class="form-control col-lg-3 col-md-4">
                                <option value="" disabled selected>Make...</option>
                                {% for car in carmake %}
                                <option value="{{ car.car_make }}">{{ car.car_make }}</option>
                                {% endfor %}
                            </select>

                            <select id="carModel" name='dropdownModel' class="form-control col-lg-3 col-md-4">
                                <option value="" disabled selected>Model...</option>
                                {% for car in carmodel %}
                                <option value='{{ car.car_model }}'>{{ car.car_model }}</option>
                                {% endfor %}
                            </select>

                            <select id="carSeries" name='dropdownSeries' class="form-control col-lg-3 col-md-4">
                                    <option value="" disabled selected>Series...</option>
                                    {% for car in carseries %}
                                    <option>{{ car.car_series }}</option>
                                    {% endfor %}
                                </select>

                            <select id="carYear" name='dropdownYear' class="form-control col-lg-3 col-md-4">
                                <option value="" disabled selected>Year...</option>
                                {% for car in caryear %}
                                <option>{{ car.car_seriesyear }}</option>
                                {% endfor %}
                            </select>

                            <select id="carSeats" name='dropdownSeats' class="form-control col-lg-3 col-md-4">
                                <option value="" disabled selected>Seats...</option>
                                {% for car in carseats %}
                                <option>{{ car.car_seatingcapacity }}</option>
                                {% endfor %}
                            </select>

                            <select id="carTransmission" name='dropdownTransmission' class="form-control col-lg-3 col-md-4">
                                <option value="" disabled selected>Transmission...</option>
                                {% for car in cartransmission %}
                                <option>{{ car.car_standardtransmission }}</option>
                                {% endfor %}
                            </select>

                            <select id="carDrive" name='dropdownDrive' class="form-control col-lg-3 col-md-4">
                                <option value="" disabled selected>Drive...</option>
                                {% for car in cardrive %}
                                <option>{{ car.car_drive }}</option>
                                {% endfor %}
                            </select>

                            <input class="my-4 py-3 px-5 rounded text-center col-lg-4 col-md-6 offset-lg-4 offset-md-3" type="submit" value="Submit">
            </form>
            <hr>
            </div>

            <div class="row">
                {% for car in searchedcars %}
                    <div class="col-sm-12 col-md-12 col-lg-6 py-2">
                        <a href="{% url 'reservation:details' car.car_id %}" class="text-white" style="text-decoration: none;">
                        <div class="card bg-secondary border-dark">
                            <div class="card-block"  style="padding: 20px">
                                <h3 class="card-title">{{ car.car_make }} {{ car.car_model }}</h3>
                                <h4 class="card-title">{{ car.car_series }} {{ car.car_seriesyear }}</h4>

                                <div class="card-text">
                                    {{ car.car_bodytype }} | {{ car.car_standardtransmission}} | Seats {{ car.car_seatingcapacity }}
                                </div>
                            </div>
                        </div>
                        </a>
                    </div>
                {% endfor %}   
          </div>
        </div>
    </body>

    <script>
    function carmodel() {
        document.getElementById("carModel").value = '{{ request.GET.dropdownModel }}';
    }
    </script>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="{% static '/reservation/js/popper.min.js' %}"></script>
    <script src="{% static '/reservation/js/bootstrap.js' %}"></script>
    <script src="{% static '/reservation/js/holder.min.js' %}"></script>
    
</html>
